<span *ngIf="isLoading"><app-loading /></span>
<div *ngIf="!isLoading">
    <div *ngIf="!currEditedCategory">
        <p *ngFor="let category of categories" class="category">{{category.name}}
            <span>
                <span (click)="editQuestion(category)" class="material-symbols-outlined icon">edit</span>
                <span (click)="deleteCategory(category)" class="material-symbols-outlined icon">
                    delete
                </span>
            </span>
        </p>
    </div>

    <div *ngIf="currEditedCategory">



        <div class="formInput">

            <table>
                <tbody>
                    <tr>
                        <td><label for="name">Nazwa quizu</label></td>
                        <td><input id="name" class="inputName" name="name" [formControl]="name" maxlength="15"></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td><label for="time">Czas quizu</label></td>
                        <td><input id="time" class="inputTime" name="time" type="number" [formControl]="time"></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td><label for="question">Pytanie {{questionNr + 1}}/{{questions.length ? questions.length :
                                '1'}}</label></td>
                        <td><input id="question" class="inputQuestion" name="question" value="{{question}}"
                                [formControl]="question"></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td><label for="answer1">Odpowiedź 1</label></td>
                        <td><input id="answer1" class="inputAnswer" name="answer1" [formControl]="answer1"></td>
                        <td><input type="radio" name="correct" value="1" [checked]="correctAnswer === 1"
                                (change)="correctAnswer = 1"></td>
                    </tr>

                    <tr>
                        <td><label for="answer2">Odpowiedź 2</label></td>
                        <td><input id="answer2" class="inputAnswer" name="answer2" [formControl]="answer2"></td>
                        <td><input type="radio" name="correct" value="2" [checked]="correctAnswer === 2"
                                (change)="correctAnswer = 2"></td>
                    </tr>

                    <tr>
                        <td><label for="answer3">Odpowiedź 3</label></td>
                        <td><input id="answer3" class="inputAnswer" name="answer3" [formControl]="answer3"></td>
                        <td><input type="radio" name="correct" value="3" [checked]="correctAnswer === 3"
                                (change)="correctAnswer = 3"></td>
                    </tr>

                    <tr>
                        <td><label for="answer4">Odpowiedź 4</label></td>
                        <td><input id="answer4" class="inputAnswer" name="answer4" [formControl]="answer4"></td>
                        <td><input type="radio" name="correct" value="4" [checked]="correctAnswer === 4"
                                (change)="correctAnswer = 4"></td>
                    </tr>
                </tbody>
            </table>


        </div>



        <!-- <div style="margin-top: 20px;">
            <label for="name">Nazwa</label>
            <input id="name" name="name" [formControl]="name" maxlength="15">
        </div>

        <div>
            <form>
                <p>
                    <label for="question">Pytanie {{questionNr + 1}}/{{questions.length ? questions.length :
                        '1'}}</label>
                    <input id="question" name="question" value="{{question}}" [formControl]="question">
                </p>
                <p>
                    <label for="answer1">Odpowiedź 1</label>
                    <input id="answer1" name="answer1" [formControl]="answer1">
                    <input type="radio" name="correct" value="1" [checked]="correctAnswer === 1"
                        (change)="correctAnswer = 1">
                    Correct 1
                </p>
                <p>
                    <label for="answer2">Odpowiedz 2</label>
                    <input id="answer2" name="answer2" [formControl]="answer2">
                    <input type="radio" name="correct" value="2" [checked]="correctAnswer === 2"
                        (change)="correctAnswer = 2">
                    Correct 2
                </p>
                <p>
                    <label for="answer3">Odpowiedz 3</label>
                    <input id="answer3" name="answer3" [formControl]="answer3">
                    <input type="radio" name="correct" value="3" [checked]="correctAnswer === 3"
                        (change)="correctAnswer = 3">
                    Correct 3
                </p>
                <p>
                    <label for="answer4">Odpowiedz 4</label>
                    <input id="answer4" name="answer4" [formControl]="answer4">
                    <input type="radio" name="correct" value="4" [checked]="correctAnswer === 4"
                        (change)="correctAnswer = 4">
                    Correct 4
                </p>
            </form>
        </div> -->







        <div class="controlButtons">
            <button class="btn" (click)="prevQuestionHandler()">Poprzednie</button>
            <button class="btn" (click)="nextQuestionHandler()">Nastepne</button>
            <button class="btn" (click)="addNewQuestionHandler()">Dodaj</button>
            <button class="btn" (click)="deleteQuestion()">Usuń</button>
            <!-- <button class="btn" (click)="saveQuestionHandler()">Zapisz</button> -->
            <button class="btn" (click)="finishQuizHandler()">Zakoncz</button>
        </div>
    </div>



    <span *ngIf="!currEditedCategory">
        <!-- <button class="btn" routerLink='/admin'>Back</button> -->
        <button class="btn" (click)="createNewQuizHandler()">Dodaj</button>
    </span>
</div>